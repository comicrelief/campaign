# A separate drupal-org-core.make file for core patches

# Warning: for now Drupal core versions are managed by Pantheon and upstream repositories
# @see https://pantheon.io/docs/articles/sites/code/applying-upstream-updates/

# Applying upstream updates:
# 	git pull -Xtheirs git://github.com/pantheon-systems/drops-8.git master
# resolve conflicts

api: 2
core: 8.x
projects:
  drupal:
    type: core
    version: 8.1.2
    patch:
      # List unmet dependencies instead of just failing
      # @see https://www.drupal.org/node/2655104
      - https://www.drupal.org/files/issues/missing-dependencies-2655104-8.patch
      # Add Rabbitmq
      - https://gist.githubusercontent.com/Saphyel/8587c0c7adca816929965afa487f2c6a/raw/27ea3546c3b1342173fe45067d7d8f6f1b927969/rabbitmq.patch
      # Retain destination url after preview
      # @see https://www.drupal.org/node/2325463
      - https://www.drupal.org/files/issues/2325463-42-node-preview-workflow-fixed.patch
      # Constraint violation for paragraph editing, for full reasoning see https://github.com/comicrelief/campaign/pull/252
      # @see http://jira.comicrelief.com/browse/PLAT-235
      # @see https://gist.github.com/pvhee/14801e0f82e06f51cb0d88b9d400cbd6
      - https://gist.githubusercontent.com/pvhee/14801e0f82e06f51cb0d88b9d400cbd6/raw/253f1c1e516eb24650a91d343c56a5aeb6a0ca43/PLAT-235_paragraph_constraint_violation.patch
