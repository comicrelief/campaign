// Cards
//
// Standard Cards
//
// Markup: cards.twig
//
// .cards--feature-layout - Feature Layout
//
// Style guide: Cards

.cards {
  width: 100%;
  padding: 30px 0;
  @include breakpoint($screen-md) {
    padding: 60px 0;
  }
  & + .cards {
    margin-top: -30px;
    padding-top: 0;
    @include breakpoint($screen-md) {
      margin-top: -60px;
    }
  }
  @for $i from 1 through 6 {
    .cards__item:first-child:nth-last-child(#{$i}),
    .cards__item:first-child:nth-last-child(#{$i}) ~ .cards__item {
      width: calc(100% - (8 * #{gutter()}));
      margin: 0 0 calc(4 * #{gutter()});
      @include breakpoint($screen-sm-max) {
        width: calc(100% - (2 * #{gutter()}));
        margin: 0 gutter() 30px;
      }
      @include breakpoint($screen-md-max) {
        @include span(12/$i);
        .cards__item:first-child {
          margin-left: #{gutter()};
        }
        .cards__item:last-child {
          margin-right: #{gutter()};
        }
      }
    }
  }
  .cards__item:first-child:nth-last-child(1),
  .cards__item:first-child:nth-last-child(1) ~ .cards__item {
    margin-bottom: 0;
  }
  .cards__item:first-child:nth-last-child(2),
  .cards__item:first-child:nth-last-child(2) ~ .cards__item {
    @include breakpoint($screen-md-max) {
      display: inline-block;
      float: none;
      vertical-align: top;
      @include span(4);
    }
  }
}
.cards__wrapper {
  text-align: center;
  @include breakpoint($screen-md-max) {
    @include display-flex;
    @include justify-content(center);
  }
}
.cards__item {
  position: relative;
  display: inline-block;
  overflow: hidden;
  margin-bottom: 20px;
  text-align: left;
  @include breakpoint($screen-md-only) {
    width: calc(100% - (4 * 1.25%)) !important;
    margin: 1.25% calc(2 * 1.25%) !important;
  }
}
.cards__title {
  text-align: center;
  margin: 0 calc(4 * 1.25%) 30px;
  @include breakpoint($screen-md) {
    margin: 0 calc(2 * 1.25%) 30px;
  }
  .bg--dark-orchid & {
    color: $colour-white;
  }
}
.cards__content-wrapper {
  position: relative;
  height: 100%;
  padding: 30px;
  @include breakpoint($screen-md-only) {
    position: absolute;
    top: 0;
    right: 0;
    padding: calc(2*#{gutter()});
    height: 100%;
    margin-right: 0;
    @include span(7 wider);
    &.cards__content-wrapper--no-image {
      position: relative;
      @include span(12);
      .cards__content {
        position: relative;
        top: 0;
        @include translateY(0);
      }
    }
  }
  .cards--feature-layout & {
    z-index: 10;
    margin: calc(4*#{gutter()});
    margin-top: calc(-6*#{gutter()});
    text-align: center;
    background-color: $colour-white;
    @include breakpoint($screen-md-only) {
      margin: 25px 0;
      height: calc(100% - 50px);
      @include span(9);
      @include push(3);
    }
  }
}
.cards__image {
  @include breakpoint($screen-md-only) {
    margin-left: 0;
    @include span(5);
  }
  img {
    display: block;
    width: 100%;
    height: 100%;
  }
}
.cards__content {
  @include breakpoint($screen-md-only) {
    position: absolute;
    width: calc(100% - 20px);
    top: 50%;
    right: 0;
    left: 0;
    margin: auto;
    @include translateY(-50%);
  }
}
